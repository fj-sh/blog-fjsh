---
title: "ハッシュテーブル"
date: "2020-12-20T22:00:00.001Z"
template: "post"
draft: false
slug: "hashtable"
category: "アルゴリズムとデータ構造"
tags:
  - "アルゴリズムとデータ構造"
description: "ハッシュテーブルの仕組みと使い方を解説します。"
---


## ハッシュテーブルのイメージ

"Apple"の値段が 200 円。"Milk"の値段が 120 円とします。

ハッシュ関数に"Apple"を入力すると、配列のインデックス[3]が返ってきます。
ハッシュ関数に"Milk"を入力すると、配列のインデックス[1]が返ってきます。

配列のインデックス上に"Apple"と"Milk"の値段を格納しておけば、私たちは配列を探索しなくても O(1)のオーダーで情報を取り出すことができます。

<figure class="float-center">
	<img src="/media/202012/hashtable1.png" alt="Hashtable">
	<figcaption>ハッシュテーブルのイメージ</figcaption>
</figure>

## ハッシュテーブルのパフォーマンス

| 操作 | 平均的なケース | 最悪のケース |
| --- | --- | --- |
| 検索 | O(1) | O(n) |
| 挿入 | O(1) | O(n) |
| 削除 | O(1) | O(n) |

## ハッシュ関数とは

ハッシュ関数の特徴は以下のとおりです。

- ハッシュ関数は文字列を渡すと数字を返す関数のこと
  - 文字列を数字にマッピングする関数のこと
- ハッシュ関数は一貫して名前を同じインデックスにマッピングする
- ハッシュ関数は異なる文字列を異なるインデックスにマッピングする
- ハッシュ関数は配列の大きさを把握しており、有効なインデックスだけ返す
- ハッシュ関数と配列を組み合わせると、ハッシュテーブルというデータ構造になる


## 衝突

ハッシュ全体にキーを均等にマッピングするのが理想ですが、2つのキーが同じスロットに割り当てられてしまう場合もあります。

2つのキーが同じスロットに割り当てられている状態を衝突（collision)と呼びます。
衝突への対処として、同じスロットに2つ以上のキーがマッピングされる場合は、そのスロットでリンクリストを開始する、というものがあります。
